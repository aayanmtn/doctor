import '../productdetails_screen/widgets/widget_item_widget.dart';import 'bloc/productdetails_bloc.dart';import 'models/productdetails_model.dart';import 'models/widget_item_model.dart';import 'package:aayan_mateen_s_application1/core/app_export.dart';import 'package:aayan_mateen_s_application1/widgets/app_bar/appbar_leading_iconbutton_two.dart';import 'package:aayan_mateen_s_application1/widgets/app_bar/appbar_subtitle_ten.dart';import 'package:aayan_mateen_s_application1/widgets/app_bar/appbar_title.dart';import 'package:aayan_mateen_s_application1/widgets/app_bar/custom_app_bar.dart';import 'package:aayan_mateen_s_application1/widgets/custom_elevated_button.dart';import 'package:carousel_slider/carousel_slider.dart';import 'package:flutter/material.dart';import 'package:smooth_page_indicator/smooth_page_indicator.dart';class ProductdetailsScreen extends StatelessWidget {const ProductdetailsScreen({Key? key}) : super(key: key);

static Widget builder(BuildContext context) { return BlocProvider<ProductdetailsBloc>(create: (context) => ProductdetailsBloc(ProductdetailsState(productdetailsModelObj: ProductdetailsModel()))..add(ProductdetailsInitialEvent()), child: ProductdetailsScreen()); } 
@override Widget build(BuildContext context) { return SafeArea(child: Scaffold(appBar: _buildAppBar(context), body: Container(width: 415.h, padding: EdgeInsets.symmetric(vertical: 20.v), child: Column(children: [SizedBox(height: 34.v), Expanded(child: SingleChildScrollView(child: Container(margin: EdgeInsets.only(bottom: 5.v), padding: EdgeInsets.symmetric(horizontal: 21.h), child: Column(crossAxisAlignment: CrossAxisAlignment.start, children: [_buildWidget(context), SizedBox(height: 8.v), BlocBuilder<ProductdetailsBloc, ProductdetailsState>(builder: (context, state) {return Container(height: 4.v, margin: EdgeInsets.only(left: 156.h), child: AnimatedSmoothIndicator(activeIndex: state.sliderIndex, count: state.productdetailsModelObj?.widgetItemList.length ?? 0, axisDirection: Axis.horizontal, effect: ScrollingDotsEffect(spacing: 4, activeDotColor: appTheme.indigoA40001, dotColor: appTheme.blueGray90001.withOpacity(0.15), dotHeight: 4.v, dotWidth: 4.h)));}), SizedBox(height: 20.v), Padding(padding: EdgeInsets.only(left: 2.h, right: 43.h), child: Row(mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [Column(crossAxisAlignment: CrossAxisAlignment.start, children: [SizedBox(width: 99.h, child: Row(mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [SizedBox(height: 23.v, width: 48.h, child: Stack(alignment: Alignment.bottomCenter, children: [Align(alignment: Alignment.center, child: Text("lbl_rs_99".tr, style: CustomTextStyles.titleMediumOverpassBluegray900b2)), Align(alignment: Alignment.bottomCenter, child: Padding(padding: EdgeInsets.only(bottom: 9.v), child: SizedBox(width: 47.h, child: Divider(color: appTheme.black90001.withOpacity(0.8)))))])), Text("lbl_rs_56".tr, style: CustomTextStyles.titleMediumOverpassBluegray90001)])), SizedBox(height: 4.v), Text("lbl_etiam_mollis".tr, style: CustomTextStyles.bodyMediumOverpassBluegray900b2)]), Container(height: 18.v, width: 70.h, margin: EdgeInsets.only(top: 15.v, bottom: 11.v), child: Stack(alignment: Alignment.bottomLeft, children: [Align(alignment: Alignment.topCenter, child: Text("lbl_add_to_cart".tr, style: CustomTextStyles.bodyMediumOverpassBlueA70001)), CustomImageView(imagePath: ImageConstant.imgPlusBlueA70001, height: 16.v, width: 17.h, alignment: Alignment.bottomLeft)]))])), SizedBox(height: 18.v), Divider(color: appTheme.black90001.withOpacity(0.1), indent: 3.h, endIndent: 43.h), SizedBox(height: 12.v), Padding(padding: EdgeInsets.only(left: 3.h), child: Text("lbl_package_size".tr, style: CustomTextStyles.titleMediumOverpassBluegray90001SemiBold)), SizedBox(height: 15.v), Padding(padding: EdgeInsets.only(left: 3.h, right: 101.h), child: Row(children: [_buildRs(context, rs: "lbl_rs_106".tr, pelletsCounter: "lbl_500_pellets".tr), Padding(padding: EdgeInsets.only(left: 16.h), child: _buildRs(context, rs: "lbl_rs_166".tr, pelletsCounter: "lbl_110_pellets".tr)), Padding(padding: EdgeInsets.only(left: 16.h), child: _buildRs(context, rs: "lbl_rs_252".tr, pelletsCounter: "lbl_300_pellets".tr))])), SizedBox(height: 6.v), Padding(padding: EdgeInsets.only(left: 3.h), child: Text("lbl_product_details".tr, style: CustomTextStyles.titleMediumOverpassBluegray90001SemiBold)), SizedBox(height: 7.v), Container(width: 314.h, margin: EdgeInsets.only(left: 3.h, right: 55.h), child: Text("msg_interdum_et_malesuada".tr, maxLines: 5, overflow: TextOverflow.ellipsis, style: CustomTextStyles.bodyMediumOverpassBluegray90001Light.copyWith(height: 1.36))), SizedBox(height: 6.v), Text("lbl_ingredients".tr, style: CustomTextStyles.titleMediumOverpassBluegray90001SemiBold), SizedBox(height: 6.v), Container(width: 314.h, margin: EdgeInsets.only(right: 58.h), child: Text("msg_interdum_et_malesuada".tr, maxLines: 5, overflow: TextOverflow.ellipsis, style: CustomTextStyles.bodyMediumOverpassBluegray90001Light.copyWith(height: 1.36))), SizedBox(height: 7.v), Padding(padding: EdgeInsets.only(left: 1.h), child: Row(children: [Text("lbl_expiry_date".tr, style: CustomTextStyles.titleMediumOverpassBluegray90001SemiBold), Padding(padding: EdgeInsets.only(left: 25.h, bottom: 2.v), child: Text("lbl_25_12_2023".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001Light))])), SizedBox(height: 1.v), Padding(padding: EdgeInsets.only(left: 1.h), child: Row(children: [Text("lbl_brand_name".tr, style: CustomTextStyles.titleMediumOverpassBluegray90001SemiBold), Padding(padding: EdgeInsets.only(left: 22.h, top: 2.v), child: Text("lbl_something".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001Light))])), SizedBox(height: 48.v), _buildRatingSection(context), SizedBox(height: 44.v), Padding(padding: EdgeInsets.only(left: 2.h, right: 42.h), child: Row(mainAxisAlignment: MainAxisAlignment.spaceBetween, crossAxisAlignment: CrossAxisAlignment.start, children: [Padding(padding: EdgeInsets.only(top: 1.v), child: Column(crossAxisAlignment: CrossAxisAlignment.start, children: [Padding(padding: EdgeInsets.only(left: 2.h), child: Row(children: [CustomImageView(imagePath: ImageConstant.imgSignalAmberA400, height: 12.v, width: 14.h, margin: EdgeInsets.symmetric(vertical: 2.v)), Text("lbl_4_2".tr, style: CustomTextStyles.bodyMediumOverpassBluegray9000113_1)])), SizedBox(height: 1.v), Text("lbl_erric_hoffman".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001)])), Padding(padding: EdgeInsets.only(bottom: 20.v), child: Text("lbl_05_oct_2020".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1))])), SizedBox(height: 2.v), Container(width: 314.h, margin: EdgeInsets.only(left: 2.h, right: 55.h), child: Text("msg_interdum_et_malesuada2".tr, maxLines: 3, overflow: TextOverflow.ellipsis, style: CustomTextStyles.bodyMediumOverpassBluegray90001Light.copyWith(height: 1.36)))]))))])), bottomNavigationBar: _buildGoToCart(context))); } 
/// Section Widget
PreferredSizeWidget _buildAppBar(BuildContext context) { return CustomAppBar(leadingWidth: 64.h, leading: AppbarLeadingIconbuttonTwo(imagePath: ImageConstant.imgArrowLeftBlueGray90003, margin: EdgeInsets.only(left: 24.h, top: 2.v, bottom: 13.v), onTap: () {onTapArrowLeft(context);}), title: Padding(padding: EdgeInsets.only(left: 7.h), child: Column(children: [AppbarTitle(text: "msg_sugar_free_gold".tr), SizedBox(height: 3.v), AppbarSubtitleTen(text: "msg_etiam_mollis_metus".tr, margin: EdgeInsets.only(right: 25.h))]))); } 
/// Section Widget
Widget _buildWidget(BuildContext context) { return Padding(padding: EdgeInsets.only(left: 3.h, right: 43.h), child: BlocBuilder<ProductdetailsBloc, ProductdetailsState>(builder: (context, state) {return CarouselSlider.builder(options: CarouselOptions(height: 166.v, initialPage: 0, autoPlay: true, viewportFraction: 1.0, enableInfiniteScroll: false, scrollDirection: Axis.horizontal, onPageChanged: (index, reason) {state.sliderIndex = index;}), itemCount: state.productdetailsModelObj?.widgetItemList.length ?? 0, itemBuilder: (context, index, realIndex) {WidgetItemModel model = state.productdetailsModelObj?.widgetItemList[index] ?? WidgetItemModel(); return WidgetItemWidget(model);});})); } 
/// Section Widget
Widget _buildRatingSection(BuildContext context) { return Padding(padding: EdgeInsets.only(left: 1.h, right: 40.h), child: Row(children: [Container(height: 100.v, width: 106.h, margin: EdgeInsets.only(bottom: 3.v), child: Stack(alignment: Alignment.bottomCenter, children: [Align(alignment: Alignment.topLeft, child: Text("lbl_4_4".tr, style: CustomTextStyles.headlineLargeOverpassBlack90001)), Align(alignment: Alignment.bottomCenter, child: Column(mainAxisSize: MainAxisSize.min, children: [CustomImageView(imagePath: ImageConstant.imgStar1, height: 26.adaptSize, width: 26.adaptSize, radius: BorderRadius.circular(1.h), alignment: Alignment.centerRight, margin: EdgeInsets.only(right: 20.h)), SizedBox(height: 18.v), SizedBox(width: 106.h, child: Text("msg_923_ratings_and".tr, maxLines: 2, overflow: TextOverflow.ellipsis, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1.copyWith(height: 1.36)))]))])), Padding(padding: EdgeInsets.only(left: 18.h), child: SizedBox(height: 103.v, child: VerticalDivider(width: 1.h, thickness: 1.v, color: appTheme.black90001.withOpacity(0.1), indent: 6.h, endIndent: 7.h))), Padding(padding: EdgeInsets.only(left: 12.h), child: Column(crossAxisAlignment: CrossAxisAlignment.start, children: [Row(children: [Text("lbl_4".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1), CustomImageView(imagePath: ImageConstant.imgStar6, height: 16.adaptSize, width: 16.adaptSize, radius: BorderRadius.circular(1.h), margin: EdgeInsets.only(left: 1.h, top: 2.v, bottom: 2.v)), Padding(padding: EdgeInsets.only(left: 8.h, top: 10.v, bottom: 7.v), child: Container(height: 3.v, width: 123.h, decoration: BoxDecoration(color: appTheme.black90001.withOpacity(0.1)), child: ClipRRect(child: LinearProgressIndicator(value: 0.84, backgroundColor: appTheme.black90001.withOpacity(0.1), valueColor: AlwaysStoppedAnimation<Color>(appTheme.indigoA40001))))), Padding(padding: EdgeInsets.only(left: 8.h), child: Text("lbl_67".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1))]), Row(children: [Text("lbl_4".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1), CustomImageView(imagePath: ImageConstant.imgStar2, height: 16.adaptSize, width: 16.adaptSize, radius: BorderRadius.circular(1.h), margin: EdgeInsets.only(left: 1.h, bottom: 2.v)), Padding(padding: EdgeInsets.only(left: 8.h, top: 9.v, bottom: 7.v), child: Container(height: 3.v, width: 123.h, decoration: BoxDecoration(color: appTheme.black90001.withOpacity(0.1)), child: ClipRRect(child: LinearProgressIndicator(value: 0.23, backgroundColor: appTheme.black90001.withOpacity(0.1), valueColor: AlwaysStoppedAnimation<Color>(appTheme.indigoA40001))))), Padding(padding: EdgeInsets.only(left: 8.h), child: Text("lbl_202".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1))]), Row(children: [Column(crossAxisAlignment: CrossAxisAlignment.start, children: [Align(alignment: Alignment.center, child: Text("lbl_32".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1)), Align(alignment: Alignment.center, child: Text("lbl_22".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1)), Text("lbl_1".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1)]), Padding(padding: EdgeInsets.only(left: 1.h), child: Column(children: [Row(mainAxisAlignment: MainAxisAlignment.center, children: [CustomImageView(imagePath: ImageConstant.imgStar3, height: 16.adaptSize, width: 16.adaptSize, radius: BorderRadius.circular(1.h), margin: EdgeInsets.only(top: 1.v, bottom: 2.v)), Padding(padding: EdgeInsets.only(top: 9.v, bottom: 7.v), child: SizedBox(width: 131.h, child: Divider(color: appTheme.black90001.withOpacity(0.1), indent: 8.h))), Padding(padding: EdgeInsets.only(left: 8.h), child: Text("lbl_7".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1))]), SizedBox(width: 177.h, child: Row(mainAxisAlignment: MainAxisAlignment.spaceBetween, children: [CustomImageView(imagePath: ImageConstant.imgStar4, height: 16.adaptSize, width: 16.adaptSize, radius: BorderRadius.circular(1.h), margin: EdgeInsets.only(top: 1.v, bottom: 2.v)), Padding(padding: EdgeInsets.only(top: 9.v, bottom: 7.v), child: SizedBox(width: 123.h, child: Divider(color: appTheme.black90001.withOpacity(0.1)))), Text("lbl_02".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1)])), SizedBox(width: 176.h, child: Row(mainAxisAlignment: MainAxisAlignment.spaceBetween, crossAxisAlignment: CrossAxisAlignment.start, children: [CustomImageView(imagePath: ImageConstant.imgStar5, height: 16.adaptSize, width: 16.adaptSize, radius: BorderRadius.circular(1.h), margin: EdgeInsets.only(top: 1.v, bottom: 3.v)), Container(height: 3.v, width: 123.h, margin: EdgeInsets.symmetric(vertical: 9.v), child: Stack(alignment: Alignment.centerLeft, children: [Align(alignment: Alignment.center, child: SizedBox(width: 123.h, child: Divider(color: appTheme.black90001.withOpacity(0.1)))), Align(alignment: Alignment.centerLeft, child: SizedBox(width: 17.h, child: Divider(color: appTheme.indigoA40001)))])), Text("lbl_23".tr, style: CustomTextStyles.bodyMediumOverpassBluegray90001_1)]))]))])]))])); } 
/// Section Widget
Widget _buildGoToCart(BuildContext context) { return CustomElevatedButton(height: 60.v, text: "lbl_go_to_cart".tr, margin: EdgeInsets.only(left: 27.h, right: 28.h, bottom: 20.v)); } 
/// Common widget
Widget _buildRs(BuildContext context, {required String rs, required String pelletsCounter, }) { return Container(padding: EdgeInsets.symmetric(horizontal: 10.h, vertical: 9.v), decoration: AppDecoration.fillGray10008.copyWith(borderRadius: BorderRadiusStyle.roundedBorder8), child: Column(mainAxisSize: MainAxisSize.min, crossAxisAlignment: CrossAxisAlignment.start, children: [Text(rs, style: CustomTextStyles.titleMediumOverpassBluegray90001_1.copyWith(color: appTheme.blueGray90001)), SizedBox(height: 5.v), Text(pelletsCounter, style: CustomTextStyles.bodySmallOverpassBluegray90001.copyWith(color: appTheme.blueGray90001.withOpacity(0.75))), SizedBox(height: 5.v)])); } 

/// Navigates to the previous screen.
onTapArrowLeft(BuildContext context) { NavigatorService.goBack(); } 
 }
